{% extends 'base.html' %}

{% block title %}Subir Excel - Notebook{% endblock %}

{# Los bloques navbar y sidebar se heredan de base.html para consistencia #}

{% block content %}
   <!-- Contenedor principal con imagen de fondo eliminado para prueba -->
   <!-- <div class="relative min-h-screen"> -->
       
       <!-- Contenedor principal con margen para sidebar -->
       <div class="ml-64 mx-auto py-4 px-4"> <!-- Se añade py-4 px-4 para algo de padding general -->
           <div class="flex flex-col md:flex-row items-center justify-center py-16">
               <!-- Contenedor de la imagen del Notebook -->
               <div class="flex-shrink-0 w-1/3 md:w-1/4 flex items-center justify-center p-4">
                   <img class="w-full h-auto rounded-lg shadow-lg" 
                        src="/static/imagenes/notebook.png" 
                        alt="Imagen Notebook">
               </div>
               
               <!-- Contenedor del formulario con gradiente de fondo -->
               <div class="w-full max-w-lg p-8 md:p-10 bg-gradient-to-r from-white to-gray-300 rounded-lg shadow-xlmx-auto    <!-- opcional: centra el contenedor -->mt-32      <!-- opcional: si quieres ese margen superior -->">
                   <h2 class="text-black text-2xl font-sans mb-6">Subir Archivo Excel para Notebook</h2>

                   <!-- Contenedor de mensajes de error o éxito -->
                   {% if messages %}
                   <div class="mb-4">
                       {% for message in messages %}
                       <div class="p-4 rounded text-white 
                           {% if message.tags == 'success' %}bg-green-600{% elif message.tags == 'error' %}bg-red-600{% else %}bg-yellow-600{% endif %}">
                           {{ message }}
                       </div>
                       {% endfor %}
                   </div>
                   {% endif %}

                   <!-- Formulario de subida de Excel -->
                   <form method="post" enctype="multipart/form-data" action="{% url 'upload_excel_notebook' %}">
                       {% csrf_token %}
                       <div class="mb-4">
                           <label for="excel_file" class="block font-semibold text-md text-black">Seleccionar archivo Excel:</label>
                           <input type="file" id="excel_file" name="excel_file" accept=".xlsx, .xls" required 
                                  class="w-full bg-gray-200 rounded-md py-2 px-3 mt-2 text-gray-900 shadow-sm">
                       </div>

                       <!-- Botones de acción -->
                       <div class="flex justify-between mt-6 w-full">
                                                   <!-- Botón Regresar -->
                           <a href="{% url 'notebooks' %}" 
                              class="bg-red-900 hover:bg-red-500 text-white font-medium py-1 px-3 rounded-lg transition duration-200 w-24 text-sm text-center">
                               Regresar
                           </a>
                           <!-- Botón Subir Archivo -->
                           <button type="submit" 
                                   class="bg-red-900 hover:bg-red-500 text-white font-medium py-1 px-3 rounded-lg transition duration-200 w-24 text-sm text-center">
                               Subir Archivo
                           </button>

                       </div>
                   </form>
               </div>
           </div>
       </div>
   </div>
{% endblock %}
