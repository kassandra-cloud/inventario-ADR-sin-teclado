{% extends 'base.html' %}
{% load static %}

{% block title %}Detalle Bodega ADR{% endblock %}

{% block sidebar %}
  {% include 'componentes/sidebar.html' %}
{% endblock %}

{% block content %}
<div id="content" class="w-full max-w-screen-2xl mx-auto px-4 py-6 md:ml-72">

  <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-2xl overflow-hidden ring-1 ring-black/5">
    <!-- Encabezado rojo -->
    <div class="bg-gradient-to-br from-red-600 to-red-700 px-6 py-4">
      <h2 class="text-2xl font-bold text-white">Detalle de Activo (Bodega ADR)</h2>
    </div>

    <!-- Cuerpo -->
    <div class="px-6 py-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-gray-800">

      <div>
        <p class="text-sm text-gray-500 font-semibold">Activo:</p>
        <p class="font-medium">Bodega</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Marca:</p>
        <p class="font-medium">{{ bodega.marca|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Modelo:</p>
        <p class="font-medium">{{ bodega.modelo|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Número de Serie:</p>
        <p class="font-medium break-all">{{ bodega.n_serie|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">UNIVE:</p>
        <p class="font-medium break-all">{{ bodega.unive|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">BDO:</p>
        <p class="font-medium break-all">{{ bodega.bdo|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">NetBIOS:</p>
        <p class="font-medium break-all">{{ bodega.netbios|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Estado:</p>
        <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-sm font-medium
                     {% if bodega.estado|lower == 'operativo' %} bg-green-100 text-green-800
                     {% elif bodega.estado|lower == 'dañado' %} bg-yellow-100 text-yellow-800
                     {% elif bodega.estado|lower == 'de baja' %} bg-red-100 text-red-800
                     {% else %} bg-zinc-100 text-zinc-800 {% endif %}">
          {{ bodega.estado|default:"—" }}
        </span>
      </div>

      <div class="md:col-span-2">
        <p class="text-sm text-gray-500 font-semibold">Ubicación:</p>
        <p class="font-medium break-words">{{ bodega.ubicacion|default:"—" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Registrado por:</p>
        <p class="font-medium">
          {% if bodega.creado_por %}
            {{ bodega.creado_por.get_full_name|default:bodega.creado_por.username }}
          {% else %} — {% endif %}
        </p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Fecha de Creación:</p>
        <p class="font-medium">{{ bodega.fecha_creacion|date:"d/m/Y H:i" }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 font-semibold">Fecha de Modificación:</p>
        <p class="font-medium">{{ bodega.fecha_modificacion|date:"d/m/Y H:i" }}</p>
      </div>
    </div>

    <!-- Acciones -->
    <div class="px-6 pb-6 flex flex-col sm:flex-row gap-3 sm:justify-end">
      {% if group_name_singular == 'ADR' or group_name_singular == 'Operador ADR' %}
      <a href="{% url 'edit_bodega_adr' bodega.pk %}"
         class="inline-flex items-center justify-center px-4 h-10 rounded-xl text-white bg-blue-600 hover:bg-blue-700 shadow">
        Editar
      </a>
      {% endif %}
      {# Volver al listado: usa el name real de tu lista. Si tu listado se llama 'bodega_adr', deja así. #}
      <a href="{% url 'bodega_adr' %}"
         class="inline-flex items-center justify-center px-4 h-10 rounded-xl text-white bg-gray-600 hover:bg-gray-700 shadow">
        Volver a la lista
      </a>
      {# Si prefieres evitar depender del name: <a href="javascript:history.back()">Volver</a> #}
    </div>
  </div>

  {# Si luego agregas historial de cambios, puedes incluirlo aquí #}
  {# {% include 'componentes/historial_modificaciones.html' with obj=bodega %} #}

</div>
{% endblock content %}
