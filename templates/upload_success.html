{% extends 'base.html' %}

{% block title %}Subir Excel - All In One{% endblock %}

{% block sidebar %}
   {% include 'componentes/sidebar.html' %}
{% endblock %}

{% block content %}
   <!-- Contenedor principal con imagen de fondo -->
   <div class="relative min-h-screen">       
       <!-- Contenedor principal con margen para sidebar -->
       <div class="ml-64 mx-auto">
           <div class="flex flex-col md:flex-row items-center justify-center py-16">
               <!-- Contenedor de la imagen del All In One -->
               <div class="flex-shrink-0 w-1/3 md:w-1/4 flex items-center justify-center p-4">
                   <img class="w-full h-auto rounded-lg shadow-lg" 
                        src="/static/imagenes/notebook.png" 
                        alt="Imagen All In One">
               </div>
               
               <!-- Contenedor del formulario con gradiente de fondo -->
               <div class="w-full max-w-lg p-8 md:p-10 bg-gradient-to-r from-red-900 to-red-700 rounded-lg shadow-lg">
                   <h2 class="text-white text-2xl font-sans mb-6">Subir Archivo Excel para All In One</h2>

                   <!-- Contenedor de mensajes de error -->
                   {% if form.errors %}
                       <div class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded">
                           <p class="font-bold mb-2">Errores:</p>
                           <ul>
                               {% for field, errors in form.errors.items %}
                                   {% for error in errors %}
                                       <li>{{ field }}: {{ error }}</li>
                                   {% endfor %}
                               {% endfor %}
                           </ul>
                       </div>
                   {% endif %}

                   <!-- Formulario de subida de Excel -->
                   <form method="post" enctype="multipart/form-data" action="{% url 'upload_excel_allinone' %}">
                       {% csrf_token %}
                       <div class="mb-4">
                           {{ form.as_p }}
                       </div>

                       <!-- Botones de acción -->
                       <div class="flex justify-between mt-6">
                           <!-- Botón Subir Archivo -->
                           <button type="submit" 
                                   class="bg-green-600 hover:bg-green-500 text-white font-medium py-2 px-4 rounded transition duration-200 w-40">
                               Subir Archivo
                           </button>
                           <!-- Botón Regresar -->
                           <a href="{% url 'all_in_one' %}" 
                              class="bg-gray-400 hover:bg-gray-300 text-white font-medium py-2 px-4 rounded transition duration-200 w-40 text-center">
                               Regresar
                           </a>
                       </div>
                   </form>
               </div>
           </div>
       </div>
   </div>
{% endblock %}
