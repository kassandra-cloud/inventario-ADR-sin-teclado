<!-- Cambios realizados:
      *cambio de fondo base
      *alteraciones en el diseño
      *alineación de elementos
    fecha: 24/03/2025
    Por> Marcelo y Poleth -->
{% extends 'base.html' %}

{% block content %}

<div class="min-h-screen bg-gradient-to-br from-red-600 to-blue-700 py-12 px-4 flex items-center justify-center">
  <div class="container mx-auto flex flex-col md:flex-row items-start justify-center gap-8">

    <!-- Bloque de instrucciones -->
    <div class="w-full md:w-1/2 text-white px-4">
      <h5 class="text-2xl font-bold mb-4">Su contraseña...</h5>
      <ul class="list-disc list-inside space-y-2 text-base leading-relaxed">
        <li>No puede ser similar a otros componentes de su información personal.</li>
        <li>Debe contener por lo menos <strong>12 caracteres</strong>.</li>
        <li>No puede ser una contraseña usada muy comúnmente.</li>
        <li>No puede estar formada exclusivamente por números.</li>
      </ul>
    </div>

    <!-- Formulario de cambio de contraseña -->
    <div class="w-full md:w-1/2 flex justify-center">
      <div class="w-full md:w-11/12 bg-gradient-to-r from-gray-900 to-gray-700 rounded-xl shadow-2xl p-6 text-white">
        <form action="{% url 'profile_password_change' %}" method="post">
          <div class="flex flex-col items-center mb-4">
            {% if user.profile.image and user.profile.image.url %}
              <img class="w-16 h-16 rounded-full mb-3" src="{{ user.profile.image.url }}" alt="{{ user.username }}">
            {% else %}
              <img class="w-16 h-16 rounded-full mb-3" src="{% get_media_prefix %}default.png" alt="Usuario">
            {% endif %}
            <h2 class="text-2xl font-semibold">Cambiar Contraseña</h2>
          </div>

          {% csrf_token %}

          <label class="text-sm font-semibold italic">Ingrese Contraseña Actual</label>
          <input type="password" name="old_password" class="bg-gray-200 text-black rounded px-3 py-2 mb-4 w-full" placeholder="Contraseña actual" required />

          <label class="text-sm font-semibold italic">Ingrese Nueva Contraseña</label>
          <input type="password" name="new_password1" class="bg-gray-200 text-black rounded px-3 py-2 mb-4 w-full" placeholder="Nueva Contraseña" minlength="12" required />

          <label class="text-sm font-semibold italic">Reingrese Nueva Contraseña</label>
          <input type="password" name="new_password2" class="bg-gray-200 text-black rounded px-3 py-2 mb-6 w-full" placeholder="Confirme Nueva Contraseña" minlength="12" required />

          <button class="bg-amber-900 hover:bg-amber-600 font-semibold p-3 text-white uppercase w-full rounded" type="submit" {% if password_changed %}disabled{% endif %}>
            Guardar Nueva Contraseña
          </button>
        </form>
      </div>
    </div>

  </div>
</div>

{% endblock %}
